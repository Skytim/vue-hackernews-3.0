{"version":3,"sources":["webpack:///./src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?c088","webpack:///./src/views/ItemView.vue","webpack:///./src/components/Comment.vue","webpack:///./src/components/Comment.vue?cd81","webpack:///./src/views/ItemView.vue?dfd1"],"names":["class","role","show","name","props","render","item","title","score","to","by","loading","kids","descendants","id","key","comment","$filters","timeAgo","time","text","length","open","pluralize","data","computed","this","$store","state","items","methods","n","components","Comment","Spinner","$route","params","beforeCreate","itemId","dispatch","ids","beforeMount","fetchComments","watch","then","store","Promise","all","map"],"mappings":"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","file":"js/chunk-028ca85d.f8a4a2cb.js","sourcesContent":["<template>\n  <div class=\"d-flex justify-content-center\" v-if=\"show\">\n    <div class=\"spinner-border\" role=\"status\"></div>\n  </div>\n</template>\n\n<script>\n// import { timeAgo } from '../util/filters'\nexport default {\n  name: \"spinner\",\n  props: [\"show\"],\n};\n</script>\n","import { render } from \"./Spinner.vue?vue&type=template&id=6da01655\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"item-view\" v-if=\"item\">\n    <div\n      class=\"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\"\n    >\n      <template v-if=\"item\">\n        <div class=\"col p-4 d-flex flex-column position-static\">\n          <h3 class=\"mb-0\">{{ item.title }}</h3>\n          <p class=\"meta\">\n            {{ item.score }} points | by\n            <router-link :to=\"'/user/' + item.by\">{{ item.by }}</router-link>\n          </p>\n        </div>\n      </template>\n    </div>\n\n    <template v-if=\"!loading && item\">\n      <div\n        class=\"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\"\n      >\n        <p class=\"p-3\">\n          {{ item.kids ? item.descendants + \" comments\" : \"No comments yet.\" }}\n        </p>\n        <comment v-for=\"id in item.kids\" :key=\"id\" :id=\"id\"></comment>\n      </div>\n    </template>\n    <spinner :show=\"loading\"></spinner>\n  </div>\n</template>\n\n<script>\nimport Spinner from \"../components/Spinner.vue\";\nimport Comment from \"../components/Comment.vue\";\nexport default {\n  name: \"item-view\",\n  components: {\n    Comment,\n    Spinner,\n  },\n  data() {\n    return {\n      loading: true,\n    };\n  },\n  computed: {\n    item() {\n      return this.$store.state.items[this.$route.params.id];\n    },\n  },\n  beforeCreate: function () {\n    let itemId = this.$route.params.id;\n    this.$store.dispatch(\"FETCH_ITEMS\", { ids: [itemId] });\n  },\n  beforeMount() {\n    this.fetchComments();\n  },\n  watch: {\n    item: \"fetchComments\",\n  },\n  methods: {\n    fetchComments() {\n      if (!this.item || !this.item.kids) {\n        return;\n      }\n      this.loading = true;\n      fetchComments(this.$store, this.item).then(() => {\n        this.loading = false;\n      });\n    },\n  },\n  title() {\n    if (this.item) {\n      return this.item.title;\n    }\n    return \" \";\n  },\n};\n\n// recursively fetch all descendent comments\nfunction fetchComments(store, item) {\n  if (item && item.kids) {\n    return store\n      .dispatch(\"FETCH_ITEMS\", {\n        ids: item.kids,\n      })\n      .then(() =>\n        Promise.all(\n          item.kids.map((id) => {\n            return fetchComments(store, store.state.items[id]);\n          })\n        )\n      );\n  }\n}\n</script>\n\n","<template>\n  <div v-if=\"comment\" class=\"comment\">\n    <div class=\"col p-4 d-flex flex-column position-static\">\n      <h5 class=\"mb-0\">\n        <router-link :to=\"'/user/' + comment.by\">{{ comment.by }}</router-link>\n        |\n        <span> {{ $filters.timeAgo(comment.time) }} ago</span>\n      </h5>\n      <div class=\"card-body\" v-html=\"comment.text\"></div>\n\n      <hr v-if=\"comment.kids && comment.kids.length\" />\n      <a v-if=\"comment.kids && comment.kids.length\" @click=\"open = !open\">{{\n        open ? \"[-]\" : \"[+] \" + pluralize(comment.kids.length) + \" collapsed\"\n      }}</a>\n      <div class=\"comment-children\" v-show=\"open\">\n        <comment v-for=\"id in comment.kids\" :key=\"id\" :id=\"id\"></comment>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import { timeAgo } from '../util/filters'\nexport default {\n  name: \"comment\",\n  props: [\"id\"],\n  data() {\n    return {\n      open: true,\n    };\n  },\n  computed: {\n    comment() {\n      return this.$store.state.items[this.id];\n    },\n  },\n  methods: {\n    pluralize: (n) => n + (n === 1 ? \" reply\" : \" replies\"),\n  },\n};\n</script>\n\n","import { render } from \"./Comment.vue?vue&type=template&id=2457e263\"\nimport script from \"./Comment.vue?vue&type=script&lang=js\"\nexport * from \"./Comment.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./ItemView.vue?vue&type=template&id=6c8e1b6d\"\nimport script from \"./ItemView.vue?vue&type=script&lang=js\"\nexport * from \"./ItemView.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}