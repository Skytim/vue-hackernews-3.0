{"version":3,"sources":["webpack:///./src/views/ItemList.vue?7e93","webpack:///./src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?c088","webpack:///./src/views/ItemList.vue","webpack:///./src/components/Item.vue","webpack:///./src/components/Item.vue?68af","webpack:///./src/views/ItemList.vue?cb34","webpack:///./src/views/CreateListView.js"],"names":["class","role","show","name","props","render","aria-label","isLoading","page","to","type","hasMore","maxPage","transition","displayedItems","item","key","id","scope","score","url","href","target","rel","title","by","$filters","timeAgo","time","descendants","components","Item","Spinner","String","data","displayedPage","Number","this","$route","params","$store","getters","activeItems","timer","computed","state","itemsPerPage","lists","Math","ceil","length","unmounted","cancelAutoUpdate","created","loadItems","setInterval","watch","from","methods","dispatch","then","$router","replace","clearInterval","__scopeId","camelize","str","charAt","toUpperCase","slice","createListView","asyncData","store","h","ItemList"],"mappings":"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","file":"js/chunk-15b465c2.15a8aa0c.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ItemList.vue?vue&type=style&index=0&id=4b63d3c6&scoped=true&lang=css\"","<template>\n  <div class=\"d-flex justify-content-center\" v-if=\"show\">\n    <div class=\"spinner-border\" role=\"status\"></div>\n  </div>\n</template>\n\n<script>\n// import { timeAgo } from '../util/filters'\nexport default {\n  name: \"spinner\",\n  props: [\"show\"],\n};\n</script>\n","import { render } from \"./Spinner.vue?vue&type=template&id=6da01655\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <nav aria-label=\"Page navigation example mt-4\" v-if=\"!isLoading\">\n    <ul class=\"pagination\">\n      <li class=\"page-item\">\n        <router-link\n          class=\"page-link\"\n          v-if=\"page > 1\"\n          :to=\"'/' + type + '/' + (page - 1)\"\n        >\n          Previous</router-link\n        >\n        <a v-else class=\"page-link disabled\">Previous</a>\n      </li>\n      <li class=\"page-item\">\n        <router-link\n          class=\"page-link\"\n          v-if=\"hasMore\"\n          :to=\"'/' + type + '/' + (page + 1)\"\n          >Next</router-link\n        >\n        <a v-else class=\"page-link disabled\">Next</a>\n      </li>\n      <li class=\"page-item\">\n        <span class=\"page-link\">{{ page }}/{{ maxPage }}</span>\n      </li>\n    </ul>\n  </nav>\n  <main>\n    <transition :name=\"transition\">\n      <div class=\"table-responsive\">\n        <table class=\"table\">\n          <tbody>\n            <transition-group name=\"item\">\n              <item v-for=\"item in displayedItems\" :key=\"item.id\" :item=\"item\">\n              </item>\n            </transition-group>\n          </tbody>\n           <spinner :show=\"isLoading\"></spinner>\n        </table>\n      </div>\n    </transition>\n  </main>\n</template>\n\n<script>\nimport Item from \"../components/Item.vue\";\nimport Spinner from \"../components/Spinner.vue\";\nexport default {\n  name: \"item-list\",\n  components: {\n    Item,\n    Spinner,\n  },\n  props: {\n    type: String,\n  },\n  data() {\n    return {\n      transition: \"slide-right\",\n      displayedPage: Number(this.$route.params.page) || 1,\n      displayedItems: this.$store.getters.activeItems,\n      timer: \"\",\n    };\n  },\n  computed: {\n    page() {\n      return Number(this.$route.params.page) || 1;\n    },\n    maxPage() {\n      const { itemsPerPage, lists } = this.$store.state;\n      return Math.ceil(lists[this.type].length / itemsPerPage);\n    },\n    hasMore() {\n      return this.page < this.maxPage;\n    },\n    isLoading() {\n      return this.displayedItems.length === 0;\n    },\n  },\n  unmounted() {\n    this.cancelAutoUpdate();\n  },\n  created() {\n    this.loadItems(this.page);\n    this.timer = setInterval(() => {\n      this.loadItems(this.page);\n    }, 10000);\n  },\n  watch: {\n    page(to, from) {\n      this.loadItems(to, from);\n    },\n  },\n  methods: {\n    loadItems(to = this.page, from = -1) {\n      // this.$bar.start();\n      this.$store\n        .dispatch(\"FETCH_LIST_DATA\", {\n          type: this.type,\n        })\n        .then(() => {\n          if (this.page < 0 || this.page > this.maxPage) {\n            this.$router.replace(`/${this.type}/1`);\n            return;\n          }\n          this.transition =\n            from === -1 ? null : to > from ? \"slide-left\" : \"slide-right\";\n          this.displayedPage = to;\n          this.displayedItems = this.$store.getters.activeItems;\n          // this.$bar.finish();\n        });\n    },\n    cancelAutoUpdate() {\n      clearInterval(this.timer);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.slide-left-enter,\n.slide-right-leave-to {\n  opacity: 0;\n  transform: translate(30px, 0);\n}\n\n.slide-left-leave-to,\n.slide-right-enter {\n  opacity: 0;\n  transform: translate(-30px, 0);\n}\n.item-move,\n.item-enter-active,\n.item-leave-active {\n  transition: all 0.5s;\n  transition-timing-function: cubic-bezier(0.55, 0, 0.1, 1);\n}\n\n.item-enter {\n  opacity: 0;\n  transform: translate(30px, 0);\n}\n\n.item-leave-active {\n  opacity: 0;\n  transform: translate(30px, 0);\n}\n</style>","<template>\n  <tr>\n    <th scope=\"row\" class=\"text-start\">{{ item.score }}</th>\n    <th class=\"text-left\">\n      <template v-if=\"item.url\">\n        <a :href=\"item.url\" target=\"_blank\" rel=\"noopener\">{{ item.title }}</a>\n        <!-- <span class=\"host\"> ({{ item.url }})</span> -->\n      </template>\n      <template v-else>\n        <router-link :to=\"'/item/' + item.id\">{{ item.title }}</router-link>\n      </template>\n\n      <br />\n      <span class=\"meta\">\n        <span v-if=\"item.type !== 'job'\" class=\"by\">\n          by <router-link :to=\"'/user/' + item.by\">{{ item.by }}</router-link>\n        </span>\n        <span class=\"time\"> {{$filters.timeAgo(item.time)}} ago </span>\n        <span v-if=\"item.type !== 'job'\" class=\"comments-link\">\n          |\n          <router-link :to=\"'/item/' + item.id\"\n            >{{ item.descendants }} comments</router-link\n          >\n        </span>\n      </span>\n      <span class=\"label\" v-if=\"item.type !== 'story'\">{{ item.type }}</span>\n    </th>\n  </tr>\n</template>\n\n<script>\n// import { timeAgo } from '../util/filters'\nexport default {\n  name: \"news-item\",\n  props: [\"item\"],\n  // http://ssr.vuejs.org/en/caching.html#component-level-caching\n  // serverCacheKey: ({ item: { id, __lastUpdated, time }}) => {\n  //   return `${id}::${__lastUpdated}::${timeAgo(time)}`\n  // }\n};\n</script>\n","import { render } from \"./Item.vue?vue&type=template&id=0dce4438\"\nimport script from \"./Item.vue?vue&type=script&lang=js\"\nexport * from \"./Item.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./ItemList.vue?vue&type=template&id=4b63d3c6&scoped=true\"\nimport script from \"./ItemList.vue?vue&type=script&lang=js\"\nexport * from \"./ItemList.vue?vue&type=script&lang=js\"\n\nimport \"./ItemList.vue?vue&type=style&index=0&id=4b63d3c6&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4b63d3c6\"\n\nexport default script","import ItemList from './ItemList.vue';\nimport { h } from 'vue'\nconst camelize = str => str.charAt(0).toUpperCase() + str.slice(1)\n\n\nexport default function createListView(type) {\n  return {\n    name: `${type}-stories-view`,\n\n    asyncData({ store }) {\n      return store.dispatch('FETCH_LIST_DATA', { type })\n    },\n\n    title: camelize(type),\n\n    render() {\n      return h(ItemList, { type }, {})\n    }\n  }\n}"],"sourceRoot":""}